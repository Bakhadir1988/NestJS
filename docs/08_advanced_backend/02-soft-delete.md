# Урок: Soft Delete (Мягкое удаление)

## 1. Зачем это нужно? (The "Why")

-   **Hard Delete (Жесткое удаление)**: `DELETE FROM "Board"` - это то, что мы делаем сейчас. Данные **физически стираются** из базы данных навсегда. Если мы случайно удалили доску, пути назад нет.
-   **Soft Delete (Мягкое удаление)**: Мы **никогда не используем `DELETE`**. Вместо этого мы "помечаем" запись как удаленную. Обычно для этого добавляют поле `deletedAt` (типа `DateTime`). Если `deletedAt` пусто (`null`), запись "жива". Если там стоит дата, запись считается удаленной и просто скрывается от пользователя.

### Преимущества Soft Delete:
-   **Восстановление данных:** "Удаленную" доску можно легко восстановить, просто очистив поле `deletedAt`.
-   **Аудит и история:** Мы всегда храним все данные, даже удаленные, что важно для анализа и отладки.
-   **Сохранение связей:** Если у доски есть связанные задачи, при жестком удалении доски эти связи могут сломаться. При мягком — все остается на своих местах.

## 2. План реализации (The "How")

1.  **Изменить схему `schema.prisma`:** Добавить необязательное поле `deletedAt` в модель `Board`.
2.  **Изменить сервис `delete`:** Вместо вызова `prisma.board.delete` мы будем вызывать `prisma.board.update`, чтобы установить текущую дату в поле `deletedAt`.
3.  **Изменить все `find`-методы:** Это самый важный шаг. Во все запросы на чтение (`findMany`, `findOne` и т.д.) мы должны добавить условие `where: { deletedAt: null }`, чтобы "удаленные" доски не попадали в выборку.
