# Exception Filters –∏ CRUD Advanced ‚Äî –¢–µ–æ—Ä–∏—è

## üìå –ß—Ç–æ –º—ã –∏–∑—É—á–∏–ª–∏ –Ω–∞ –ø—Ä–æ—à–ª—ã—Ö –∑–∞–Ω—è—Ç–∏—è—Ö

–í—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ —É–∂–µ –∑–Ω–∞–µ–º:

### Guard vs Interceptor vs Pipe vs Filter

```
Request ‚Üí Guard ‚Üí Pipe ‚Üí Interceptor ‚Üí Controller ‚Üí Service ‚Üí DB
                                              ‚Üì
                                        Exception
                                              ‚Üì
                                          Filter ‚Üí Response
```

- **Guard** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- **Pipe** ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- **Interceptor** ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç request/response
- **Filter** ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è (exceptions)

### –ß—Ç–æ —Ç–∞–∫–æ–µ Exception Filter?

Exception Filter ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π **–ª–æ–≤–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è** –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ –∫—Ä–∞—Å–∏–≤—ã–π HTTP –æ—Ç–≤–µ—Ç.

**–ë–µ–∑ Filter:**
```json
{
  "statusCode": 500,
  "message": "Internal server error",
  "error": "P2002: Unique constraint failed on the fields: (`email`)"
}
```

**–° Filter:**
```json
{
  "statusCode": 400,
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
  "error": "Bad Request"
}
```

---

## üîí Authorization vs Authentication

–≠—Ç–æ **–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ** –¥–ª—è CRUD Advanced:

### Authentication (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
**–í–æ–ø—Ä–æ—Å:** –ö—Ç–æ —Ç—ã?

```typescript
// Guard –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω
@UseGuards(JwtAuthGuard)
@Get('/profile')
getProfile() { }

// –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí 401 Unauthorized
```

### Authorization (–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
**–í–æ–ø—Ä–æ—Å:** –ß—Ç–æ —Ç—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å?

```typescript
// Service –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏ —Ä–µ—Å—É—Ä—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
async deleteBoard(boardId: number, userId: number) {
  const board = await prisma.board.findUnique({ where: { id: boardId } });
  
  if (board.ownerId !== userId) {
    throw new ForbiddenException('–≠—Ç–æ –Ω–µ –≤–∞—à–∞ –¥–æ—Å–∫–∞!');
  }
  
  return prisma.board.delete({ where: { id: boardId } });
}

// –ï—Å–ª–∏ –Ω–µ —Ç–≤–æ—è ‚Üí 403 Forbidden
```

---

## üèóÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ Deep Nesting (–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã)?

–ö–æ–≥–¥–∞ –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–º—É:

```
–ü—Ä–∏–º–µ—Ä 1 (–ü–õ–û–•–û):
GET /api/tasks?columnId=2
GET /api/columns?boardId=1
(–Ω–µ—è—Å–Ω–æ, –∫–∞–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è)

–ü—Ä–∏–º–µ—Ä 2 (–•–û–†–û–®–û):
GET /api/boards/1
GET /api/boards/1/columns
GET /api/boards/1/columns/2
GET /api/boards/1/columns/2/tasks
(—è–≤–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –≤ URL)
```

### –ò–µ—Ä–∞—Ä—Ö–∏—è –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

```
User (–≤–ª–∞–¥–µ–ª–µ—Ü)
  ‚Üì owns
Board (1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí N –¥–æ—Å–æ–∫)
  ‚Üì contains
Column (1 –¥–æ—Å–∫–∞ ‚Üí N –∫–æ–ª–æ–Ω–æ–∫)
  ‚Üì contains
Task (1 –∫–æ–ª–æ–Ω–∫–∞ ‚Üí N –∑–∞–¥–∞—á)
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã —Å–æ–∑–¥–∞–ª–∏ API –¥–ª—è Kanban –¥–æ—Å–∫–∏.

### –ü–ª–æ—Ö–æ–π –≤–∞—Ä–∏–∞–Ω—Ç (–±–µ–∑ Authorization)

```typescript
@Delete('/tasks/:taskId')
async deleteTask(@Param('taskId') taskId: number) {
  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê: —É–¥–∞–ª—è–µ–º –∑–∞–¥–∞—á—É –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤!
  return await prisma.task.delete({ where: { id: taskId } });
}

// –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –ß–£–ñ—É—é –∑–∞–¥–∞—á—É!
```

### –•–æ—Ä–æ—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (—Å Authorization)

```typescript
@Delete('/tasks/:taskId')
@UseGuards(JwtAuthGuard)  // ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
async deleteTask(
  @Param('taskId') taskId: number,
  @CurrentUser() user: UserFromJwt  // ‚Üê –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–¥–∞—á–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  const task = await prisma.task.findUnique({
    where: { id: taskId },
    include: { column: { include: { board: true } } }
  });
  
  if (!task) {
    throw new NotFoundException('–ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
  }
  
  if (task.column.board.ownerId !== user.id) {
    throw new ForbiddenException('–≠—Ç–æ –Ω–µ –≤–∞—à–∞ –∑–∞–¥–∞—á–∞!');
  }
  
  return await prisma.task.delete({ where: { id: taskId } });
}

// ‚úÖ –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ—Å–∫–∏ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
```

---

## üìã –¢–∏–ø–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (Create, Read, Update, Delete) –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–¥–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É:

```typescript
// 1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–µ—Ä–µ–∑ Guard + @CurrentUser)
// 2. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å –∏–∑ –ë–î
// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–µ—Å—É—Ä—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
// 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –¥–æ—Å—Ç—É–ø–∞
// 5. –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é (—Å–æ–∑–¥–∞—Ç—å/–ø—Ä–æ—á–∏—Ç–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å)
// 6. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

@Get(':boardId')
@UseGuards(JwtAuthGuard)
async getBoard(
  @Param('boardId') boardId: number,
  @CurrentUser() user: UserFromJwt
) {
  // –®–∞–≥ 2-3: –ø–æ–ª—É—á–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
  const board = await this.prisma.board.findUnique({
    where: { id: boardId }
  });
  
  if (!board) {
    throw new NotFoundException('–î–æ—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');  // 404
  }
  
  // –®–∞–≥ 4: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
  if (board.ownerId !== user.id) {
    throw new ForbiddenException('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞');  // 403
  }
  
  // –®–∞–≥ 5-6: –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  return board;
}
```

---

## üõ°Ô∏è –°–ª–æ–∏ –∑–∞—â–∏—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

```
–°–ª–æ–π 1: Guard (JwtAuthGuard)
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Authorization header
‚îú‚îÄ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç JWT –ø–æ–¥–ø–∏—Å—å
‚îî‚îÄ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí 401 Unauthorized

–°–ª–æ–π 2: @CurrentUser() –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
‚îú‚îÄ –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ JWT
‚îî‚îÄ –ü–µ—Ä–µ–¥–∞—ë—Ç –≤ –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

–°–ª–æ–π 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
‚îú‚îÄ –ò—â–µ–º —Ä–µ—Å—É—Ä—Å –≤ –ë–î
‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí 404 Not Found

–°–ª–æ–π 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Authorization)
‚îú‚îÄ –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º resource.ownerId —Å user.id
‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Üí 403 Forbidden

–°–ª–æ–π 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏
‚îú‚îÄ –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ columnId –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç boardId
‚îî‚îÄ –ï—Å–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∞ ‚Üí 400 Bad Request

–°–ª–æ–π 6: DTO –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ class-validator
‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã ‚Üí 400 Bad Request
```

---

## üíæ –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (Order Field)

–í Kanban –¥–æ—Å–∫–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ –∏ –∑–∞–¥–∞—á.

### –ü–ª–æ—Ö–æ–π –ø–æ–¥—Ö–æ–¥ (INT)

```typescript
// order: Int
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –≤—Å—Ç–∞–≤–∏—Ç—å –º–µ–∂–¥—É 1 –∏ 2, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –≤—Å–µ

–ë—ã–ª–æ:
‚îú‚îÄ Column 1: order = 1
‚îú‚îÄ Column 2: order = 2
‚îî‚îÄ Column 3: order = 3

–í—Å—Ç–∞–≤–ª—è–µ–º –º–µ–∂–¥—É 1 –∏ 2:
‚îú‚îÄ Column 1: order = 1
‚îú‚îÄ Column NEW: order = ??? (1.5 –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å INT!)
‚îú‚îÄ Column 2: order = 3 (–ø–µ—Ä–µ—Å—á–∏—Ç–∞–ª–∏)
‚îî‚îÄ Column 3: order = 4 (–ø–µ—Ä–µ—Å—á–∏—Ç–∞–ª–∏)
```

### –•–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥ (FLOAT)

```typescript
// order: Float
// ‚úÖ –ú–æ–∂–µ–º –≤—Å—Ç–∞–≤–ª—è—Ç—å –º–µ–∂–¥—É —á–∏—Å–ª–∞–º–∏ –±–µ–∑ –ø–µ—Ä–µ—Å—á—ë—Ç–∞

–ë—ã–ª–æ:
‚îú‚îÄ Column 1: order = 0
‚îú‚îÄ Column 2: order = 1
‚îî‚îÄ Column 3: order = 2

–í—Å—Ç–∞–≤–ª—è–µ–º –º–µ–∂–¥—É 1 –∏ 2:
‚îú‚îÄ Column 1: order = 0
‚îú‚îÄ Column 2: order = 1
‚îú‚îÄ Column NEW: order = 1.5 (–ª–µ–≥–∫–æ!)
‚îî‚îÄ Column 3: order = 2
```

---

## üîÑ Include –≤ Prisma (–ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

–ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç–µ Board, –Ω—É–∂–Ω—ã –∏ Column, –∏ Task –≤–Ω—É—Ç—Ä–∏ Column.

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (3 –∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î)
const board = await prisma.board.findUnique({ where: { id: 1 } });
const columns = await prisma.column.findMany({ where: { boardId: 1 } });
const tasks = await prisma.task.findMany({ 
  where: { columnId: { in: columnIds } } 
});

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (1 –∑–∞–ø—Ä–æ—Å —Å include)
const board = await prisma.board.findUnique({
  where: { id: 1 },
  include: {
    columns: {
      orderBy: { order: 'asc' },  // ‚Üê –°—Ä–∞–∑—É —Å–æ—Ä—Ç–∏—Ä—É–µ–º
      include: {
        tasks: {
          orderBy: { order: 'asc' }  // ‚Üê –ò —Ç—É—Ç —Ç–æ–∂–µ
        }
      }
    }
  }
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç: Board —Å Columns –∏ Tasks —É–∂–µ –≤–Ω—É—Ç—Ä–∏!
```

---

## üéØ –ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å (–∑–∞–¥–∞—á–∞)

–°–æ–∑–¥–∞–π—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã —Å –Ω—É–ª—è:

### 1. DTO –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `src/boards/dto/create-board.dto.ts` ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Å–∫–∏
- `src/boards/dto/update-board.dto.ts` ‚Äî –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å–∫–∏
- –ò –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è Column –∏ Task

### 2. Service —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- `src/boards/boards.service.ts` ‚Äî –≤—Å–µ –º–µ—Ç–æ–¥—ã CRUD —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

### 3. Controller —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
- `src/boards/boards.controller.ts` ‚Äî –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã

### 4. Module
- `src/boards/boards.module.ts` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

### 5. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `src/common/decorators/current-user.decorator.ts` ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üöÄ –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∏
```bash
mkdir -p src/boards/dto
mkdir -p src/common/decorators
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã
```bash
touch src/boards/boards.service.ts
touch src/boards/boards.controller.ts
touch src/boards/boards.module.ts
touch src/boards/dto/create-board.dto.ts
touch src/boards/dto/update-board.dto.ts
```

### –®–∞–≥ 3: –ù–∞—á–Ω–∏—Ç–µ —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ
–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ `CreateBoardDto`:

```typescript
import { IsString, IsNotEmpty, MinLength } from 'class-validator';

export class CreateBoardDto {
  @IsString()
  @IsNotEmpty()
  @MinLength(3)
  name: string;
}
```

**–ó–∞—Ç–µ–º** —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –∑–∞ —Ä–∞–∑.

---

## ‚ùì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–µ–±—è

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–∏—Å–∞—Ç—å –∫–æ–¥, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã:

1. **–ß–µ–º Guard –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Service authorization?**
2. **–ü–æ—á–µ–º—É –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏ (boardId ‚Üí columnId)?**
3. **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç include –≤ Prisma?**
4. **–ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º Float –¥–ª—è order, –∞ –Ω–µ Int?**
5. **–ß—Ç–æ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å @CurrentUser() –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä?**

–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –æ—Ç–≤–µ—Ç—ã ‚Äî –ø–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ –≤—ã—à–µ! üìñ

---

## üìù –í–∞—à–∞ –∑–∞–¥–∞—á–∞

**–ù–∞–ø–∏—à–∏—Ç–µ —Å –Ω—É–ª—è:**
1. DTO –¥–ª—è Create –∏ Update –æ–ø–µ—Ä–∞—Ü–∏–π (–≤—Å–µ 3 —Å—É—â–Ω–æ—Å—Ç–∏)
2. BoardsService —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è Boards
3. BoardsController —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –¥–ª—è Boards
4. @CurrentUser() –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
5. –û–±–Ω–æ–≤–∏—Ç–µ AppModule

**–ù–µ –±–µ—Å–ø–æ–∫–æ–π—Ç–µ—Å—å –æÂÆåÂÆå —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å—Ä–∞–∑—É. –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ø–æ—Ç–æ–º –Ω–∞–ø–æ–ª–Ω—è–π—Ç–µ!**

–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∏–Ω–∞—Ç—å? üí™
